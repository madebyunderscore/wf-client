(function() {
  function a(o, n) {
    document.querySelectorAll(o).forEach((r) => {
      try {
        const e = new URL(r.href);
        if (!e.hostname || e.hostname === window.location.hostname || e.searchParams.has("utm_source")) return;
        e.searchParams.append("utm_source", "dokucom"), e.searchParams.append("utm_content", n), r.href = e.toString();
      } catch {
        console.warn("Invalid link skipped:", r.href);
      }
    });
  }
  a("header a[href], .navbar a[href]", "header"), a("footer a[href], .footer a[href]", "footer");
})();
