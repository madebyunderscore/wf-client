import{y as k}from"../../../assets/keen-slider.es-BgYMYDxD.js";const u=document.querySelector("#my-keen-slider");u&&new k(u,{loop:!0,renderMode:"performance",drag:!0,slides:{perView:5,spacing:8},breakpoints:{"(max-width: 991px)":{slides:{perView:3,spacing:8}},"(max-width: 767px)":{slides:{perView:2,spacing:8}}}});(async()=>{const h="https://proxy-server-doku.vercel.app/api/division-proxy",r=document.getElementById("career-api"),a=r==null?void 0:r.querySelector(".careers_accordion");if(!r||!a){console.error("[Careers] Container or template missing â€“ check your selectors.");return}const l="careerData",f=1,d=Date.now();function m(){try{const e=JSON.parse(localStorage.getItem(l)||"{}");if(e.expires>d)return e.data}catch{}return null}function w(e){localStorage.setItem(l,JSON.stringify({data:e,expires:d+f*36e5}))}function y(){[...r.children].forEach(e=>{e.classList.contains("careers_accordion")&&e!==a&&e.remove()})}function i(e=[]){var o;y();const t=document.createDocumentFragment();e.forEach(({division:g="No Division Name",jobs:p=[]})=>{const c=a.cloneNode(!0);c.classList.remove("hidden"),c.querySelector(".career_accordion-title").textContent=g;const s=c.querySelector(".careers_accordion-job-list");s.innerHTML="",p.length===0?s.textContent="There are currently no openings.":p.forEach(({jobId:x,jobTitle:C})=>{const n=document.createElement("a");n.className="career_job-link",n.href=`https://doku-payment.webflow.io/career/detail?jobId=${x}`,n.target="_blank",n.textContent=C||"Untitled position",s.appendChild(n)}),t.appendChild(c)}),r.appendChild(t),(o=window.Webflow)!=null&&o.require&&setTimeout(()=>{window.Webflow.require("ix2").init()},0)}try{const e=m();if(e){console.log("[Careers] Using cached data"),i(e);return}const t=await fetch(h,{cache:"no-store"});if(!t.ok)throw new Error(`HTTP ${t.status}`);const o=await t.json();w(o),i(o)}catch(e){console.error("[Careers] Failed to fetch data:",e),i([])}})();
