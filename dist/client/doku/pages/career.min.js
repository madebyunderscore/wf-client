(async()=>{const u="https://proxy-server-doku.vercel.app/api/division-proxy",t=document.getElementById("career-api"),a=t==null?void 0:t.querySelector(".careers_accordion");if(!t||!a){console.error("[Careers] Container or template missing â€“ check your selectors.");return}const l="careerData",f=1,d=Date.now();function p(){try{const e=JSON.parse(localStorage.getItem(l)||"{}");if(e.expires>d)return e.data}catch{}return null}function m(e){localStorage.setItem(l,JSON.stringify({data:e,expires:d+f*36e5}))}function y(){[...t.children].forEach(e=>{e.classList.contains("careers_accordion")&&e!==a&&e.remove()})}function i(e=[]){var o;y();const r=document.createDocumentFragment();e.forEach(({division:w="No Division Name",jobs:h=[]})=>{const c=a.cloneNode(!0);c.classList.remove("hidden"),c.querySelector(".career_accordion-title").textContent=w;const s=c.querySelector(".careers_accordion-job-list");s.innerHTML="",h.length===0?s.textContent="There are currently no openings.":h.forEach(({jobId:g,jobTitle:C})=>{const n=document.createElement("a");n.className="career_job-link",n.href=`https://doku-payment.webflow.io/career/detail?jobId=${g}`,n.target="_blank",n.textContent=C||"Untitled position",s.appendChild(n)}),r.appendChild(c)}),t.appendChild(r),(o=window.Webflow)!=null&&o.require&&setTimeout(()=>{window.Webflow.require("ix2").init()},0)}try{const e=p();if(e){console.log("[Careers] Using cached data"),i(e);return}const r=await fetch(u,{cache:"no-store"});if(!r.ok)throw new Error(`HTTP ${r.status}`);const o=await r.json();m(o),i(o)}catch(e){console.error("[Careers] Failed to fetch data:",e),i([])}})();
