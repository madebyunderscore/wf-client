function b({selector:e='[counter-element="number"]',defaultDuration:t=2e3}={}){const o=(r,c,a)=>{let s;const u=m=>1-Math.pow(1-m,4),i=m=>{s===void 0&&(s=m);const g=m-s,l=Math.min(g/a,1),h=Math.round(c*u(l));r.textContent=h.toString(),l<1&&requestAnimationFrame(i)};requestAnimationFrame(i)},n=new IntersectionObserver((r,c)=>{r.forEach(a=>{if(a.isIntersecting){const s=a.target,u=parseInt(s.textContent||"0",10),i=parseInt(s.getAttribute("duration")||t,10);o(s,u,i),c.unobserve(s)}})});document.querySelectorAll(e).forEach(r=>n.observe(r))}function w(){const e=new URLSearchParams(window.location.search),t={};if(["utm_source","utm_medium","utm_campaign","utm_term","utm_content"].forEach(n=>{e.has(n)&&(t[n]=e.get(n))}),Object.keys(t).length>0)try{sessionStorage.setItem("utmParams",JSON.stringify(t))}catch(n){console.warn("Failed to store UTM parameters:",n)}}function v(){try{const e=sessionStorage.getItem("utmParams");if(e){const t=JSON.parse(e),o=new URLSearchParams(t).toString();document.querySelectorAll("a").forEach(n=>{const r=new URL(n.href,window.location.origin);r.hostname===window.location.hostname&&(r.search+=(r.search?"&":"")+o,n.href=r.toString())})}}catch(e){console.warn("Failed to append UTM parameters to links:",e)}}function p(e="mf_iframe"){const t=document.getElementById(e);if(!t)return;const o=sessionStorage.getItem("utmParams");if(o){const n=JSON.parse(o),r=new URL(t.src);Object.entries(n).forEach(([c,a])=>{r.searchParams.set(c,a)}),t.src=r.toString()}}b();function S(){console.log("onReady fired. Document and all resources loaded."),w(),v(),p()}window.addEventListener("load",S);const d=new IntersectionObserver(e=>{e.forEach(t=>{t.isIntersecting&&(t.target.classList.add("in-view"),d.unobserve(t.target))})});document.querySelectorAll("section").forEach(e=>{d.observe(e)});const f=new IntersectionObserver(e=>{e.forEach(t=>{t.isIntersecting&&(t.target.classList.add("in-view"),f.unobserve(t.target))})});document.querySelectorAll("[data-reveal]").forEach(e=>{f.observe(e)});
