import{s as p}from"./utils/navbar-scroll.min.js";function E({selector:t='[counter-element="number"]',defaultDuration:e=2e3}={}){const i=(o,s,d)=>{let n;const a=l=>1-Math.pow(1-l,4),m=l=>{n===void 0&&(n=l);const c=l-n,f=Math.min(c/d,1),b=Math.round(s*a(f));o.textContent=b.toString(),f<1&&requestAnimationFrame(m)};requestAnimationFrame(m)},r=new IntersectionObserver((o,s)=>{o.forEach(d=>{if(d.isIntersecting){const n=d.target,a=parseInt(n.textContent||"0",10),m=parseInt(n.getAttribute("duration")||e,10);i(n,a,m),s.unobserve(n)}})});document.querySelectorAll(t).forEach(o=>r.observe(o))}function w({source:t,contentMap:e={}}){function i(r,o){document.querySelectorAll(r).forEach(d=>{try{const n=new URL(d.href);if(!n.hostname||n.hostname===window.location.hostname||n.searchParams.has("utm_source"))return;n.searchParams.append("utm_source",t),n.searchParams.append("utm_content",o),d.href=n.toString()}catch{console.warn("Invalid link skipped:",d.href)}})}Object.entries(e).forEach(([r,o])=>{i(r,o)})}function S(){const t=new URLSearchParams(window.location.search),e={};if(["utm_source","utm_medium","utm_campaign","utm_term","utm_content"].forEach(r=>{t.has(r)&&(e[r]=t.get(r))}),Object.keys(e).length>0)try{sessionStorage.setItem("utmParams",JSON.stringify(e))}catch(r){console.warn("Failed to store UTM parameters:",r)}}function L(){try{const t=sessionStorage.getItem("utmParams");if(t){const e=JSON.parse(t),i=new URLSearchParams(e).toString();document.querySelectorAll("a").forEach(r=>{const o=new URL(r.href,window.location.origin);o.hostname===window.location.hostname&&(o.search+=(o.search?"&":"")+i,r.href=o.toString())})}}catch(t){console.warn("Failed to append UTM parameters to links:",t)}}function y(t="mf_iframe"){const e=document.getElementById(t);if(!e)return;const i=sessionStorage.getItem("utmParams");if(i){const r=JSON.parse(i),o=new URL(e.src);Object.entries(r).forEach(([s,d])=>{o.searchParams.set(s,d)}),e.src=o.toString()}}window.addEventListener("DOMContentLoaded",()=>{E(),p(),w({source:"dokucom",contentMap:{"header a[href], .navbar a[href]":"header","footer a[href], .footer a[href]":"footer"}})});window.addEventListener("load",()=>{console.log("onReady fired. Document and all resources loaded."),S(),L(),y()});const g=new IntersectionObserver(t=>{t.forEach(e=>{e.isIntersecting&&(e.target.classList.add("in-view"),g.unobserve(e.target))})});document.querySelectorAll("section").forEach(t=>{g.observe(t)});const v=new IntersectionObserver(t=>{t.forEach(e=>{e.isIntersecting&&(e.target.classList.add("in-view"),v.unobserve(e.target))})});document.querySelectorAll("[data-reveal]").forEach(t=>{v.observe(t)});document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll('[und-tab="hover"]').forEach(function(e){e.addEventListener("mouseenter",function(){e.click()})})});document.addEventListener("DOMContentLoaded",()=>{const t=document.querySelectorAll(".nav-link_dd");if(!t.length){console.error('No desktop navigation dropdowns found with class "nav-link_dd".');return}t.forEach((e,i)=>{const r=e.querySelectorAll(".nav-dd_tab-menu-link"),o=e.querySelectorAll(".nav-dd_tabs-pane-grid"),s=e.querySelector(".nav-mobile_nav_btm");if(!s){console.warn(`Mobile container not found in dropdown index ${i}.`);return}s.innerHTML="";const d=document.createDocumentFragment();r.forEach((n,a)=>{const m=o[a];if(!m)return;const l=document.createElement("div");l.className="nav-mobile-dd";const c=document.createElement("div");c.className="nav-mobile-dd_toggle",c.innerHTML=n.innerHTML;const f=`nav-mobile-dd-toggle-${i}-${a}`,b=`nav-mobile-dd-content-${i}-${a}`;c.id=f,c.setAttribute("role","button"),c.setAttribute("aria-controls",b),c.setAttribute("aria-expanded","false"),c.tabIndex=0;const u=document.createElement("div");u.className="nav-mobile-dd_btm",u.id=b,u.setAttribute("aria-labelledby",f),u.setAttribute("role","region"),u.style.display="none";const h=document.createElement("div");h.className="nav-mobile-dd_list",h.innerHTML=m.innerHTML,u.appendChild(h),l.appendChild(c),l.appendChild(u),d.appendChild(l)}),s.appendChild(d),s.addEventListener("click",n=>{const a=n.target.closest(".nav-mobile-dd_toggle");if(!a)return;const m=a.nextElementSibling,l=a.getAttribute("aria-expanded")==="true";s.querySelectorAll(".nav-mobile-dd_btm").forEach(c=>c.style.display="none"),s.querySelectorAll(".nav-mobile-dd_toggle").forEach(c=>c.setAttribute("aria-expanded","false")),l||(m.style.display="block",a.setAttribute("aria-expanded","true"))}),s.addEventListener("keydown",n=>{if(n.key!=="Enter"&&n.key!==" ")return;const a=n.target.closest(".nav-mobile-dd_toggle");a&&(n.preventDefault(),a.click())})})});
