import{s as v}from"./utils/navbar-scroll.min.js";function E({selector:r='[counter-element="number"]',defaultDuration:o=2e3}={}){const l=(t,m,i)=>{let n;const f=a=>1-Math.pow(1-a,4),c=a=>{n===void 0&&(n=a);const b=a-n,d=Math.min(b/i,1),s=Math.round(m*f(d));t.textContent=s.toString(),d<1&&requestAnimationFrame(c)};requestAnimationFrame(c)},e=new IntersectionObserver((t,m)=>{t.forEach(i=>{if(i.isIntersecting){const n=i.target,f=parseInt(n.textContent||"0",10),c=parseInt(n.getAttribute("duration")||o,10);l(n,f,c),m.unobserve(n)}})});document.querySelectorAll(r).forEach(t=>e.observe(t))}function S({source:r,contentMap:o={}}){function l(e,t){document.querySelectorAll(e).forEach(i=>{try{const n=new URL(i.href);if(!n.hostname||n.hostname===window.location.hostname||n.searchParams.has("utm_source"))return;n.searchParams.append("utm_source",r),n.searchParams.append("utm_content",t),i.href=n.toString()}catch{console.warn("Invalid link skipped:",i.href)}})}Object.entries(o).forEach(([e,t])=>{l(e,t)})}function w(){const r=new URLSearchParams(window.location.search),o={};if(["utm_source","utm_medium","utm_campaign","utm_term","utm_content"].forEach(e=>{r.has(e)&&(o[e]=r.get(e))}),Object.keys(o).length>0)try{sessionStorage.setItem("utmParams",JSON.stringify(o))}catch(e){console.warn("Failed to store UTM parameters:",e)}}function y(){try{const r=sessionStorage.getItem("utmParams");if(r){const o=JSON.parse(r),l=new URLSearchParams(o).toString();document.querySelectorAll("a").forEach(e=>{const t=new URL(e.href,window.location.origin);t.hostname===window.location.hostname&&(t.search+=(t.search?"&":"")+l,e.href=t.toString())})}}catch(r){console.warn("Failed to append UTM parameters to links:",r)}}function A(r="mf_iframe"){const o=document.getElementById(r);if(!o)return;const l=sessionStorage.getItem("utmParams");if(l){const e=JSON.parse(l),t=new URL(o.src);Object.entries(e).forEach(([m,i])=>{t.searchParams.set(m,i)}),o.src=t.toString()}}window.addEventListener("DOMContentLoaded",()=>{E(),v(),S({source:"dokucom",contentMap:{"header a[href], .navbar a[href]":"header","footer a[href], .footer a[href]":"footer"}});const r=new IntersectionObserver(e=>{e.forEach(t=>{t.isIntersecting&&(t.target.classList.add("in-view"),r.unobserve(t.target))})});document.querySelectorAll("section").forEach(e=>r.observe(e));const o=new IntersectionObserver(e=>{e.forEach(t=>{t.isIntersecting&&(t.target.classList.add("in-view"),o.unobserve(t.target))})});document.querySelectorAll("[data-reveal]").forEach(e=>o.observe(e)),document.querySelectorAll('[und-tab="hover"]').forEach(e=>{e.addEventListener("mouseenter",()=>e.click())}),document.querySelectorAll(".nav-link_dd").forEach((e,t)=>{const m=e.querySelectorAll(".nav-dd_tab-menu-link"),i=e.querySelectorAll(".nav-dd_tabs-pane-grid"),n=e.querySelector(".nav-mobile_nav_btm");if(!n){console.warn(`Mobile container not found in dropdown index ${t}.`);return}n.innerHTML="";const f=document.createDocumentFragment();m.forEach((c,a)=>{const b=i[a];if(!b)return;const d=document.createElement("div");d.className="nav-mobile-dd";const s=document.createElement("div");s.className="nav-mobile-dd_toggle",s.innerHTML=c.innerHTML;const g=`nav-mobile-dd-toggle-${t}-${a}`,p=`nav-mobile-dd-content-${t}-${a}`;s.id=g,s.setAttribute("role","button"),s.setAttribute("aria-controls",p),s.setAttribute("aria-expanded","false"),s.tabIndex=0;const u=document.createElement("div");u.className="nav-mobile-dd_btm",u.id=p,u.setAttribute("aria-labelledby",g),u.setAttribute("role","region"),u.style.display="none";const h=document.createElement("div");h.className="nav-mobile-dd_list",h.innerHTML=b.innerHTML,u.appendChild(h),d.appendChild(s),d.appendChild(u),f.appendChild(d)}),n.appendChild(f),n.addEventListener("click",c=>{const a=c.target.closest(".nav-mobile-dd_toggle");if(!a)return;const b=a.nextElementSibling,d=a.getAttribute("aria-expanded")==="true";n.querySelectorAll(".nav-mobile-dd_btm").forEach(s=>s.style.display="none"),n.querySelectorAll(".nav-mobile-dd_toggle").forEach(s=>s.setAttribute("aria-expanded","false")),d||(b.style.display="block",a.setAttribute("aria-expanded","true"))}),n.addEventListener("keydown",c=>{if(c.key!=="Enter"&&c.key!==" ")return;const a=c.target.closest(".nav-mobile-dd_toggle");a&&(c.preventDefault(),a.click())})})});window.addEventListener("load",()=>{console.log("onReady fired. Document and all resources loaded.");try{w(),y(),A()}catch(r){console.error("UTM handling error:",r)}});
